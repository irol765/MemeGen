# MemeGen Pro - AI 表情包制作器

[English Documentation](README.md)

![image](https://github.com/irol765/MemeGen/blob/main/img/cn.png)

这是一个现代化的 React 应用程序，利用 Google 的 Gemini 3 Pro (Nano Banana Pro) 模型将您的照片变成 LINE/微信 风格的表情包。

## 功能特性

1.  **AI 生成**: 使用 `gemini-3-pro-image-preview` 模型，根据参考照片生成高质量、4K 分辨率的图像。
2.  **多模式支持**:
    *   **静态表情包**: 生成 4x6 布局的静态表情网格。
    *   **动态 GIF**: 生成动作分解图（Sprite Sheet）并合成循环 GIF 动画。
3.  **商城素材生成**: 一站式生成微信/LINE 表情商店所需的所有素材：
    *   **横幅**: 推广横幅 (750x400)。
    *   **封面**: 表情包主封面 (230x230)。
    *   **图标**: 列表小图标 (50x50)。
    *   **赞赏引导图**: 吸引打赏的图片 (750x560)。
    *   **致谢图**: 打赏后的感谢图片 (750x750)。
4.  **智能编辑器**:
    *   **背景移除**: 客户端算法（色度键）自动移除生成的绿色背景，实现透明底。
    *   **切片**: 根据网格自动切割成单独的 PNG 文件。
    *   **GIF 合成**: 将网格帧合成为流畅的 GIF，支持调节帧率。
5.  **导出**: 支持打包下载 ZIP 或单独下载生成的素材。
6.  **安全**: 支持设置访问密码（Access Code）保护部署。
7.  **PWA 支持**: 支持 iOS "添加到主屏幕"，像原生 App 一样使用。

## 前置条件

*   Node.js 18+
*   拥有已启用 Gemini API 的 Google Cloud 项目。
*   **注意**: 本应用使用付费模型 `gemini-3-pro-image-preview`。

## 开发指南

1.  安装依赖:
    ```bash
    npm install
    ```

2.  启动开发服务器:
    ```bash
    npm start
    ```

## 部署到 Vercel

1.  将此代码推送到 GitHub 仓库。
2.  将仓库导入 Vercel。
3.  **环境变量**:
    进入 Vercel 项目设置 > Environment Variables 并添加:
    *   `API_KEY`: 您的 Google Gemini API 密钥。
    *   `ACCESS_CODE` (可选): 用于保护您部署应用的访问密码。如果设置了此变量，用户必须输入该安全码才能使用应用。
    
    *注意：如果提供了 `API_KEY`，应用将直接使用它。如果设置了 `ACCESS_CODE`，应用会显示锁定界面。*

4.  部署！Vercel 会自动检测 React 框架并构建项目。

## 使用指南

1.  **安全验证**: 如果部署环境设置了 `ACCESS_CODE`，首先输入安全码解锁应用。
2.  **上传**: 拖放一张人物或角色的照片。
3.  **提示词**: 
    *   **静态表情**: 默认使用 "Q版、4x6 布局" 的优化提示词。
    *   **GIF**: 输入具体动作（如“奔跑”），AI 将生成连续动作帧。
4.  **编辑与导出**:
    *   **表情切片**: 使用 "颜色容差" 滑块移除绿色背景。切片并下载 ZIP。
    *   **GIF**: 调整网格以对齐动作帧，设置帧率，点击“合成 GIF”。
    *   **商城素材**: 切换标签页（横幅、封面、图标等），一键生成并下载符合平台规范的图片。
